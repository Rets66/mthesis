\section{結論}
\label{sec:conclusion}
% 機能を分離させることによって，クエリを用いてデータを転送する仕組みを無効化することを実現
% 他の名前解決システムと違い，クライアントサイドへの変更点が少ないためマイグレーションが期待される
本研究では，DNSトンネリングを抑止する名前解決システムを提案した．
DNSを利用した秘匿通信，DNSトンネリングに対する既存の検知に基づく対策アプローチにはペイロードやトラフィックを調整することで迂回される課題があった．
DNSトンネリング，スタブリゾルバから権威サーバまでクエリパケットが転送されるクエリの透過性に起因する課題であることについて，動作の仕組みを分析することによって明らかにした．
クエリ透過性を抑止するため，既存システムにおける権威サーバのレコード情報を保持しクライアントに応答する機能とレコード情報を編集する機能を分離させるという新しい名前解決の仕組みを提案した．
提案したアプローチは，クライアントからの名前解決問い合わせをマネージャという代表サーバが任意に設置できるノードに代わって応答することで，任意ノードへデータが転送されるクエリの透過性を抑止することに寄与する．
また，クエリが透過しない名前解決システムを分析し，遅延とネットワーク構築にかかるトラフィック量が増加する課題があることを明らかにした．
この課題を踏まえ，提案システムでは，マネージャの探索方法にハッシュテーブルを採用することで遅延に対処し，またマネージャの数を固定することによってネットワーク構築にかかるトラフィックが発生させないアーキテクチャを採用することでトラフィックの課題に対処させた．

%評価
クエリ透過性の評価にあたり，提案システムの各サービスノードを実装し，Dockerによる仮想環境上で名前解決が行える実験環境を用意した．
上記の環境で，擬似的に作成した長さと文字列がランダムなQnameをもつDNSクエリパケットをクライアントから問い合わせるというシミュレーションを実施し，シミュレーションテストの結果に基づき，提案システム上ではクライアントから任意のサーバにクエリが転送されないことを示した．
提案システム独自の名前解決における識別子導出処理に関するオーバーヘッドの可能性ついて評価を行った．
評価では，Aをレコードタイプとしながらランダムな文字列で構成される長さの異なる5000個のQnameのペアを用意し，このペアにおける識別子導出にかかる時間を計測した．
計測の結果，中央値が約0.003ミリ秒と無視できる程度であることを実験に基づき示した．
また，ルート権威サーバと既存のTLD権威サーバのRTTの調査に基づき，提案システムにおけるクエリに対する応答速度の推定を行った．
提案システムにおける名前解決の応答速度について，ルート権威サーバのRTTである約50-100ミリ秒に加え，委譲数n($n \in \mathbb{N}$)に対してn-1個の権威サーバのRTTの分だけ高速化することを理論に基づき示した．
加えて，既存システムにおける長さと委譲数の異なる253個のQnameを用意し，このQnameをおける名前解決時のトラフィック量について，既存システムとの比較に基づき提案システムの方が名前解決にかかるトラフィック量が少ないことを実験に基づき示した．
トンネリング抑止の機能だけでなくシステム特性の評価の結果から，提案システムの有用性を示した．

今後の課題は，提案システムに対して多数のトラフィックを発生させるなどの負荷を与えた際の耐性を分析することで，実環境上への導入に対する優位性もしくは課題を抽出することを検討している．
%また，DNSは現在のインターネットを支える基盤システムとして根付いており，大幅な修正が加えられた場合，接続障害が発生する可能性がある．
%提案システムは，フルサービスリゾルバと権威サーバにおける名前解決の仕組みのみの変更に抑えているため．現実的なマイグレーションが期待される．
